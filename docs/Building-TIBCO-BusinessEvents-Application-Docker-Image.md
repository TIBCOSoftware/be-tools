TIBCO BusinessEvents provides script files to build a Docker image of the TIBCO BusinessEvents application by using bundled Dockerfiles.

You can build the Docker image either by using existing TIBCO BusinessEvents installation \(BE_HOME\) from your computer or by using the software installers of TIBCO BusinessEvents and other required products. The Docker image generated by using software installers is of smaller size in comparison to the Docker image generated by using your TIBCO BusinessEvents installation.

For details about Dockerfiles provided with TIBCO BusinessEvents, see [Dockerfile for TIBCO BusinessEvents](Dockerfile%20for%20TIBCO%20BusinessEvents).

**Note:** When building the Red Hat Enterprise Linux based Docker image, update the dockerfile \(`Dockerfile.rhel`\) with your subscribed Red Hat Docker image before running the Docker build script. In the Dockerfile, replace the `<RHEL_IMAGE>` placeholder with the Red Hat Enterprise Linux Docker image name.

### Prerequisites
See [Preparing for TIBCO BusinessEvents Containerization](Before-You-Begin#preparing-for-tibco-businessevents-containerization)

### Procedure

-   **Application Docker Image by Using Software Installers**

    Go to the `BE_HOME/cloud/docker/bin` folder and run the `build_app_image` application Docker image building script.

    **Syntax:**

    ```
    build_app_image -l <installers-directory> -a <apps-artifact-directory> -r <app-image-name>:<app-image-version> [--gv-providers <names-of-GV-providers>] [-d <Dockerfile>] [-h]
    ```

    **Example:**

    ```
    build_app_image -l /home/user/tibco/installers -a /home/user/tibco/be/5.6/examples/standard/FraudDetection -r fdapp --gv-providers "consul"
    ```

-   **\(*Windows and Linux Only*\) Application Docker Image by Using Existing TIBCO BusinessEvents Installation**

    Go to the `BE_HOME/cloud/docker/frominstall` folder and run the `build_app_image` application Docker image building script.

    **Syntax:**

    ```
    build_app_image [-l <BE_HOME_location>] -a <apps-artifact-directory> -r <app-image-name>:<app-image-version> [--gv-providers <names-of-GV-providers>] [-d <Dockerfile>] [-h]
    ```

    **Example:**

    ```
    build_app_image -a /home/user/tibco/be/5.6/examples/standard/FraudDetection -r fdapp --gv-providers "consul"
    ```
**Note:** For the Windows platform, enclose all arguments in double quotes \("\).

-  **Build Application Docker Image by using s2i**

     Go to the `BE_HOME/cloud/docker/s2i` folder and run the `create_builder_image` application Docker image building script.

    **Syntax:**
    ``` 
    ./create_builder_image.sh -l <installers-directory> -r <app-image-name>:<app-image-version> [--gv-providers <names-of-GV-providers>] [-d <Dockerfile>] [-h]
    ```
    **Example:**
    ```
    ./create_builder_image.sh -l /Users/test/BE_Installers -r s2ibuilder:01
    ```


    Next we provide application source to s2i to create an assembled image off the previously created builder image.

    **Syntax:**

    ```

    s2i build <location of the source code> <name of the builder image> <name of the application image>
    ```

    **Example:**

    ```
    s2i build /Users/test/Applications/FraudDetection/source s2ibuilder:01 fdopenshifts2i:01
    ```




|Argument|Required/Optional|Description|
|--------|-----------------|-----------|
|`-l/--installers-location` \(*For the Docker image based on software installers*\)|Required|The location where installers for TIBCO BusinessEvents, TIBCO BusinessEvents add-ons \(optional\), see the `Optional Software Requirements` section in *TIBCO BusinessEvents Installation Guide* at [TIBCO BusinessEvents Documentation](https://docs.tibco.com/products/tibco-businessevents-enterprise-edition). This option is available for scripts that are run from BE_HOME/cloud/docker/bin.|
|`-l/--be-home` \(*For the Docker image based on the existing TIBCO BusinessEvents installation*\)|Optional|Specify TIBCO BusinessEvents installation \(BE_HOME\) location. This is optional if the script runs from its default location \(BE_HOME/cloud/docker/frominstall\).|
|`-a/-app-location`|Required|The location where the application CDD file, enterprise archive \(EAR\) file, and external JAR files are stored.|
|`-r/-repo`|Required|Name that you want to assign to application Docker image. Optionally, you can provide the version number for the Docker image. Use the following naming convention for the application Docker image:```<image-name>:[version-number]```. For example, `fdc:1.0`.|
|`--gv-providers`|Optional|Provide names of the global variable providers as a comma-separated list. The values are: -   `consul` - Use Consul as the key-value provider. This downloads the Consul CLI into the application Docker image.|
|`-d/--dockerfile`|Optional|The custom Dockerfile used for generating image. You can use your own Dockerfile or you can edit and use the Dockerfile provided with the TIBCO BusinessEvents installation. If you have placed the Dockerfile at a location other than the default location, provide the path of the Dockerfile. If not specified, the script uses the default bundled Dockerfile. For the list of default Dockerfiles associated with the scripts that are provided with TIBCO BusinessEvents, see [Dockerfile for TIBCO BusinessEvents](Dockerfile%20for%20TIBCO%20BusinessEvents).|
|`-h/--help`|Optional|Displays help for the script file.|

### What to do Next
[Running a TIBCO BusinessEvents Application in Docker](Running%20TIBCO%20BusinessEvents%20Application%20in%20Docker)

**Parent topic:** [Containerizing TIBCO BusinessEvents Application in Docker](Containerizing%20TIBCO%20BusinessEvents%20Application%20in%20Docker)

