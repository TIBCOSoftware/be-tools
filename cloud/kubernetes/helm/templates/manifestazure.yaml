#
# Copyright (c) 2019-2020. TIBCO Software Inc.
# This file is subject to the license terms contained in the license file that is distributed with this file.
#
{{- if or (eq .Values.cmType "AS2" ) (eq .Values.cmType "FTL" ) (eq .Values.cmType "IGNITE" ) }}
{{- if and (eq .Values.cpType "azure" ) (eq .Values.omType "cache" ) }}
  {{- if or (eq .Values.bsType "sharednothing" ) (eq .Values.bsType "store" ) }}
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: {{ include "azurestorageclass.fullname" . }}
provisioner: {{ .Values.volumes.azure.provisioner }}
mountOptions:
  - dir_mode={{ .Values.volumes.azure.dir_mode }}
  - file_mode={{ .Values.volumes.azure.file_mode }}
  - uid={{ .Values.volumes.azure.uid }}
  - gid={{ .Values.volumes.azure.gid }}
parameters:
  skuName: {{ .Values.volumes.azure.skuName }}
  {{- end }}
{{- end }}
{{- end }}
